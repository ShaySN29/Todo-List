{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shana\\\\OneDrive\\\\Desktop\\\\task\\\\todo-list\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Button } from 'react-bootstrap'; // Import Components\n\nimport Header from './Components/Header';\nimport ToDoList from './Components/ToDoList';\nimport ToDoInput from './Components/ToDoInput';\nimport Login from './Components/Login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addTask = newTask => {\n      let copy = [...this.state.toDoList];\n      copy.push({\n        id: this.state.toDoList.length + 1,\n        task: newTask,\n        complete: false\n      });\n      this.setState({\n        toDoList: copy\n      });\n    };\n\n    this.toggleToDo = id => {\n      let copy = [...this.state.toDoList];\n      const todoList = copy.find(todoList => todoList.id === id);\n      todoList.complete = !todoList.complete;\n      this.setState({\n        toDoList: copy\n      });\n    };\n\n    this.handleUserNameChange = this.handleUserNameChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleCreateUserButtonClick = this.handleCreateUserButtonClick.bind(this);\n    this.handleLoginButtonClick = this.handleLoginButtonClick.bind(this);\n    this.addTask = this.addTask.bind(this);\n    this.handleClearCompleted = this.handleClearCompleted.bind(this);\n    this.toggleToDo = this.toggleToDo.bind(this);\n    this.state = {\n      error: null,\n      username: \"\",\n      password: \"\",\n      token: \"\",\n      loggedIn: false,\n      toDoList: []\n    };\n  }\n\n  // Functions below sets the state of the username and password to the value that the user has entered\n  handleUserNameChange(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  handlePasswordChange(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  // Function below invoked when the user clicks the login button. The jwt is fetched and stored in state and loggedin set to true\n  handleLoginButtonClick() {\n    fetch(\"http://localhost:8000/login\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      })\n    }).then(res => res.json()).then(response => {\n      this.setState({\n        loggedIn: true,\n        token: response.token\n      });\n    }).catch(error => console.log('Error:', error));\n  }\n\n  // Function invoked when the user clicks the add user button. New user is added to the database\n  handleCreateUserButtonClick() {\n    fetch(\"http://localhost:8000/add\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      })\n    }).then(res => res.json()).then(response => {\n      alert('The user has been added. Please Log In', JSON.stringify(response));\n    }).catch(error => console.log('Error:', error));\n  }\n\n  // Function clears the completed items from the todoList\n  handleClearCompleted() {\n    // alert(\"Button Clicked\");\n    const uncompletedToDos = this.state.toDoList.filter(todo => !todo.complete);\n    this.setState({\n      toDoList: uncompletedToDos\n    });\n  }\n\n  render() {\n    const {\n      loggedIn,\n      toDoList\n    } = this.state;\n\n    if (!loggedIn) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"loginDiv\",\n        children: /*#__PURE__*/_jsxDEV(Login, {\n          handleUserNameChange: this.handleUserNameChange,\n          handlePasswordChange: this.handlePasswordChange,\n          handleCreateUserButtonClick: this.handleCreateUserButtonClick,\n          handleLoginButtonClick: this.handleLoginButtonClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"todoListDiv\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ToDoInput, {\n          addTask: this.addTask\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-dark\",\n          onClick: this.handleClearCompleted,\n          children: \"Clear Completed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ToDoList, {\n          toDoList: toDoList,\n          toggleToDo: this.toggleToDo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"names":["React","Component","Button","Header","ToDoList","ToDoInput","Login","App","constructor","props","addTask","newTask","copy","state","toDoList","push","id","length","task","complete","setState","toggleToDo","todoList","find","handleUserNameChange","bind","handlePasswordChange","handleCreateUserButtonClick","handleLoginButtonClick","handleClearCompleted","error","username","password","token","loggedIn","e","target","value","fetch","method","headers","body","JSON","stringify","then","res","json","response","catch","console","log","alert","uncompletedToDos","filter","todo","render"],"sources":["C:/Users/shana/OneDrive/Desktop/task/todo-list/frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {Button} from 'react-bootstrap';\n// Import Components\nimport Header from './Components/Header';\nimport ToDoList from './Components/ToDoList';\nimport ToDoInput from './Components/ToDoInput';\nimport Login from './Components/Login';\n\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.handleUserNameChange = this.handleUserNameChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleCreateUserButtonClick = this.handleCreateUserButtonClick.bind(this);\n    this.handleLoginButtonClick = this.handleLoginButtonClick.bind(this);\n    this.addTask = this.addTask.bind(this);\n    this.handleClearCompleted = this.handleClearCompleted.bind(this);\n    this.toggleToDo = this.toggleToDo.bind(this);\n    this.state = {\n      error: null,\n      username: \"\",\n      password: \"\",\n      token: \"\",\n      loggedIn: false,\n      toDoList: []\n    };\n  };\n\n  // Functions below sets the state of the username and password to the value that the user has entered\n  handleUserNameChange(e) {\n    this.setState({username: e.target.value})\n  };\n\n  handlePasswordChange(e) {\n    this.setState({password: e.target.value})\n  };\n\n  // Function below invoked when the user clicks the login button. The jwt is fetched and stored in state and loggedin set to true\n  handleLoginButtonClick() {\n    fetch(\"http://localhost:8000/login\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      }),\n    })\n    .then(res => res.json())\n    .then(response => {\n      this.setState({loggedIn:true, token:response.token})\n    })\n    .catch(error => console.log('Error:', error))\n  };\n\n  // Function invoked when the user clicks the add user button. New user is added to the database\n  handleCreateUserButtonClick() {\n    fetch(\"http://localhost:8000/add\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      }),\n    })\n    .then(res => res.json())\n    .then(response => {\n      alert('The user has been added. Please Log In', JSON.stringify(response));\n    })\n    .catch(error => console.log('Error:', error))\n  };\n\n  /*Takes in newTask (input by user) from AddTaskToToDoList componentâ€™s state. \n    Makes a copy of the toDoList so the state is not directly manipulated.\n    The copy is reassigned to a new array, with copy spread in and the new list item tagged on the end \n  */\n  addTask = (newTask) => {\n    let copy = [...this.state.toDoList];\n    copy.push({ id: this.state.toDoList.length + 1, task: newTask, complete: false });\n    this.setState({toDoList:copy});\n  };\n\n  // Function to toggle the checkbox of the todo item. \n  // A copy of the list is created. The id of the selected task is found and the status of the completed is toggled\n  toggleToDo = (id) => {\n    let copy =[...this.state.toDoList];\n    const todoList = copy.find(todoList => todoList.id === id);\n    todoList.complete = !todoList.complete;\n    this.setState({ toDoList: copy });\n  }\n\n  // Function clears the completed items from the todoList\n  handleClearCompleted() {\n    // alert(\"Button Clicked\");\n    const uncompletedToDos = this.state.toDoList.filter(todo => !todo.complete);\n    this.setState({toDoList:uncompletedToDos});\n  };\n\n  render() {\n    const { loggedIn, toDoList } = this.state;\n\n    if (!loggedIn) {\n      return (\n        <div id='loginDiv'>\n        <Login\n          handleUserNameChange={this.handleUserNameChange}\n          handlePasswordChange={this.handlePasswordChange}\n          handleCreateUserButtonClick={this.handleCreateUserButtonClick}\n          handleLoginButtonClick={this.handleLoginButtonClick}\n          />\n          </div>\n      )\n    } else {\n      return (  \n        <div className='todoListDiv'>\n            <Header />\n            <ToDoInput addTask={this.addTask}/>\n            <Button variant='outline-dark' onClick={this.handleClearCompleted}>Clear Completed</Button>\n            <ToDoList toDoList={toDoList} toggleToDo={this.toggleToDo}/>\n        </div>\n      )\n    }\n  };\n};\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}